<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</title>

<style>
body{
  font-family: Tahoma;
  background:#f4f9f4;
  text-align:center;
  margin:0;
  padding:15px;
}
.donation{
  background:#e8f5e9;
  color:#1b5e20;
  padding:15px;
  border-radius:15px;
  margin-bottom:15px;
  font-weight:bold;
}
.header{
  background:#1b5e20;
  color:#fff;
  padding:20px;
  border-radius:15px;
  margin-bottom:15px;
}
.card{
  background:#fff;
  margin:10px 0;
  padding:15px;
  border-radius:15px;
  display:flex;
  justify-content:space-between;
}
button{
  background:#1b5e20;
  color:#fff;
  border:none;
  padding:12px 20px;
  border-radius:10px;
  font-size:16px;
  margin:15px 0;
}
.alert{
  color:#c62828;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="donation">
ğŸ¤ ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ù„Ø±ÙˆØ­ Ø§Ù„Ù…Ø±Ø­ÙˆÙ…Ø© <br>
Ù…Ù†Ù‰ Ù†Ø§Ø¬ÙŠ Ø¹Ù„ÙŠ
</div>

<div class="header">
<h2>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h2>
<p id="city">Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</p>
</div>

<button onclick="getLocation()">ğŸ“ Ø§Ø¶ØºØ· Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</button>
<p class="alert" id="alert"></p>

<div class="card"><span>Ø§Ù„ÙØ¬Ø±</span><span id="fajr">--</span></div>
<div class="card"><span>Ø§Ù„Ø´Ø±ÙˆÙ‚</span><span id="sunrise">--</span></div>
<div class="card"><span>Ø§Ù„Ø¸Ù‡Ø±</span><span id="dhuhr">--</span></div>
<div class="card"><span>Ø§Ù„Ø¹ØµØ±</span><span id="asr">--</span></div>
<div class="card"><span>Ø§Ù„Ù…ØºØ±Ø¨</span><span id="maghrib">--</span></div>
<div class="card"><span>Ø§Ù„Ø¹Ø´Ø§Ø¡</span><span id="isha">--</span></div>

<script>
function getLocation(){
  if(!navigator.geolocation){
    document.getElementById("alert").innerText="Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹";
    return;
  }

  document.getElementById("alert").innerText="Ø¬Ø§Ø±ÙŠ Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹...";

  navigator.geolocation.getCurrentPosition(
    pos=>{
      document.getElementById("alert").innerText="";
      loadTimes(pos.coords.latitude, pos.coords.longitude);
    },
    ()=>{
      document.getElementById("alert").innerText="âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„Ù‡ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ";
    }
  );
}

function loadTimes(lat, lon){
  fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=5`)
  .then(res=>res.json())
  .then(data=>{
    const t = data.data.timings;
    document.getElementById("fajr").innerText = t.Fajr;
    document.getElementById("sunrise").innerText = t.Sunrise;
    document.getElementById("dhuhr").innerText = t.Dhuhr;
    document.getElementById("asr").innerText = t.Asr;
    document.getElementById("maghrib").innerText = t.Maghrib;
    document.getElementById("isha").innerText = t.Isha;
    document.getElementById("city").innerText = "ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ù†Ø¬Ø§Ø­ âœ…";
  });
}
</script>

</body>
</html>
