<script>
function loadPrayerTimes(lat, lon) {
  const today = new Date();
  const date = `${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`;

  fetch(`https://api.aladhan.com/v1/timings/${date}?latitude=${lat}&longitude=${lon}&method=5`)
    .then(res => res.json())
    .then(data => {
      const t = data.data.timings;
      document.getElementById("fajr").innerText = t.Fajr;
      document.getElementById("sunrise").innerText = t.Sunrise;
      document.getElementById("dhuhr").innerText = t.Dhuhr;
      document.getElementById("asr").innerText = t.Asr;
      document.getElementById("maghrib").innerText = t.Maghrib;
      document.getElementById("isha").innerText = t.Isha;
    });
}

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(
    pos => {
      loadPrayerTimes(pos.coords.latitude, pos.coords.longitude);
    },
    () => {
      alert("يرجى السماح بتحديد الموقع");
    }
  );
} else {
  alert("المتصفح لا يدعم تحديد الموقع");
}
</script>
